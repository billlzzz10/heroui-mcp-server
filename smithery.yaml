runtime: "typescript"
target: "remote"  # Changed to remote for Smithery deployment

# Entry point for Smithery (with config schema)
entry: "src/server/smithery-index.ts"

# Environment Variables for Smithery
environment:
  NODE_ENV: "production"
  LOG_LEVEL: "info"

# Build Configuration
build:
  # Build on specific conditions
  triggers:
    - push:
        branches: ["main", "production"]
        tags: ["v*"]
    - pull_request:
        branches: ["main"]

# Health Check
healthCheck:
  path: "/health"
  timeout: 30s
  interval: 30s

# Configuration UI will be auto-generated from configSchema in smithery-index.ts